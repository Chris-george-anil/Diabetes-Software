<html>

<head>
  <title>Result Page</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest"> </script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
  <script type="text/javascript">

    async function run(arr) {
      const MODEL_URL = '/model.json';
      const model = await tf.loadLayersModel(MODEL_URL);
      console.log(model.summary());
      // let arr= [6.0,148.0,72.0,35.0,0.0,33.6,0.62,50.0]
      const input = tf.tensor2d(arr, [1, 8]);
      var result = model.predict(input);
      var x = result.dataSync();
      if (Math.round(x) == 1) {
        console.log("YEs he has");
        document.getElementById("answer").innerHTML = "Yes u have Diabetes";

      } else {
        console.log("no");
        document.getElementById("answer").innerHTML = "No u dont";

      }
    }
    let x = [<%=details%>];
    console.log(x);
    run(x);
  </script>

</head>

<body>
  <div class="result">
    <h1 id="head">Your Result</h1>
    <h6 id="answer"><%=details%></h6>
  </div>
</body>

</html>
